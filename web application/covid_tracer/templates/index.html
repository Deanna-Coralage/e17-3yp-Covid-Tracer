{% load static %}

<!DOCTYPE html>
<!-- Designined by CodingLab | www.youtube.com/codinglabyt -->
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title>Covid Tracer</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js" integrity="sha512-Wt1bJGtlnMtGP0dqNFH1xlkLBNpEodaiQ8ZN5JLA5wpc1sUlk/O5uuOMNgvzddzkpvZ9GLyYNa8w2s7rqiTk5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  
    <section class="home-section">

        <nav>
            <div class=logo>
                <h1 style="font-size: 40px;">Covid Tracer</h1>
            </div>
            <button>Login</button>
            <button>Register</button> 
        </nav>

        <div class="home-content">
            <div class="overview-boxes">

                <div class="box">
                    <div class="right-side">
                        <div class="box-topic">Total Order</div>
                        <div class="number">40,876</div>
                        <div class="indicator">
                            <i class='bx bx-up-arrow-alt'></i>
                            <span class="text">Up from yesterday</span>
                        </div>
                    </div>
                </div>

                <div class="box">
                    <div class="right-side">
                        <div class="box-topic">Total Sales</div>
                        <div class="number">38,876</div>
                        <div class="indicator">
                            <i class='bx bx-up-arrow-alt'></i>
                            <span class="text">Up from yesterday</span>
                        </div>
                    </div>
                </div>

                <div class="box">
                    <div class="right-side">
                        <div class="box-topic">Total Profit</div>
                        <div class="number">$12,876</div>
                        <div class="indicator">
                            <i class='bx bx-up-arrow-alt'></i>
                            <span class="text">Up from yesterday</span>
                        </div>
                    </div>
                </div>

                <div class="box">
                    <div class="right-side">
                        <div class="box-topic">Total Return</div>
                        <div class="number">11,086</div>
                        <div class="indicator">
                            <i class='bx bx-down-arrow-alt down'></i>
                            <span class="text">Down From Today</span>
                        </div>
                    </div>
                </div>

            </div>
            <!--End of boxes-->

            <div class="sales-boxes">
                <div class="recent-sales box">
                    <div class="title">New Cases</div>
                        <div style="position: relative; width:100%;">
                            <canvas id="Chart1"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sales-boxes">
                <div class="recent-sales box">
                    <div class="title">New Deaths</div>
                        <div style="display: center;">
                            <canvas id="Chart2"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!--End of graphs-->

        </div>
        <!--End of home-->

    </section>

    <!--js scripts-->
    <script src="{% static 'js/chart.js' %}"></script>
    <script>
        var ctx = document.getElementById('Chart2').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [{% for stat in stats %}'{{stat.update_timestamp}}',{% endfor %}],
                datasets: [{
                    label: 'Number of Deaths',
                    data: [{% for stat in stats %}{{stat.new_deaths}},{% endfor %}],
                    backgroundColor: [
                        'rgb(0, 0, 51)'
                    ],
                    borderColor: [
                        'rgb(0, 0, 51)'
                    ],
                    borderWidth: 1,
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                maintainAspectRatio: false,
            }
        });
    </script>

</body>

</html>
